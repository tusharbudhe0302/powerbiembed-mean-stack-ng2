<div class="app" [ngClass]="{'app-dark': dark, 'boxed': boxed, 'collapsed-sidebar': collapseSidebar, 'compact-sidebar': compactSidebar}">
  <md-toolbar class="main-header">
    <button (click)="sidemenu.toggle()" md-icon-button>
      <md-icon>menu</md-icon>
    </button>
    <div class="branding">
      <div class="logo"></div>
    </div>
    <div class="search-bar" fxFlex>
    </div>
    <!-- <div *ngIf="givenName">
      Welcome, {{givenName}}! <button md-button md-raised-button (click)="logout()">Logout</button>
    </div>
    <div *ngIf="!givenName">
      <button md-button md-raised-button (click)="login()">Login</button>
    </div> -->
    <button appToggleFullscreen md-icon-button>
      <md-icon>fullscreen</md-icon>
    </button>
    <!-- <button md-icon-button (click)="showSettings = true">
      <md-icon>settings</md-icon>
    </button> -->
  </md-toolbar>

  <md-sidenav-container class="app-inner">
    <md-sidenav #sidemenu class="sidebar-panel" id="sidebar-panel" [mode]="isOver() ? 'over' : 'side'" [opened]="!isOver()" (mouseover)="menuMouseOver()" (mouseout)="menuMouseOut()">
      <md-nav-list class="navigation">
        <md-list-item *ngFor="let menuitem of menuItems.getAll()" (click)="onShowTabs()" routerLinkActive="open">
          <a class="relative" md-ripple [routerLink]="['/', menuitem.state]" *ngIf="menuitem.type === 'link'">
            <md-icon>{{ menuitem.icon }}</md-icon>
            <span>{{ menuitem.name }}</span>
            <span fxFlex></span>
            <span class="menu-badge mat-{{ badge.type }}" *ngFor="let badge of menuitem.badge">{{ badge.value }}</span>
          </a>
        </md-list-item>
      </md-nav-list>
    </md-sidenav>
    <router-outlet></router-outlet>
  </md-sidenav-container>

  <md-card class="settings-panel" *ngIf="showSettings">
    <md-toolbar color="warn">
      <span fxFlex>Options</span>
      <button md-icon-button (click)="showSettings = false">
        <md-icon>close</md-icon>
      </button>
    </md-toolbar>
    <md-card-content class="demo-checkbox">
      <div class="pb-1">
        <md-checkbox [(ngModel)]="collapseSidebar" (change)="compactSidebar = false" [align]="end">Collapsed Sidebar</md-checkbox>
      </div>
      <div class="pb-1">
        <md-checkbox [(ngModel)]="compactSidebar" (change)="collapseSidebar = false" [align]="end">Compact Sidebar</md-checkbox>
      </div>
      <div class="pb-1">
        <md-checkbox [(ngModel)]="boxed" [align]="end">Boxed Layout</md-checkbox>
      </div>
      <div class="pb-1">
        <md-checkbox [(ngModel)]="dark" [align]="end">Dark Mode</md-checkbox>
      </div>
    </md-card-content>
  </md-card>

</div>